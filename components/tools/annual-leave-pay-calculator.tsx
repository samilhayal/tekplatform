"use client"
import{useState}from"react";import{Card,CardContent}from"@/components/ui/card";import{Input}from"@/components/ui/input";import{Button}from"@/components/ui/button";import{Banknote,Home,BookOpen,Lightbulb,AlertCircle,Info,Calendar,DollarSign,Plane}from"lucide-react";import Link from"next/link";const AnnualLeavePayCalculator=()=>{const[startDay,setStartDay]=useState("");const[startMonth,setStartMonth]=useState("");const[startYear,setStartYear]=useState("");const[endDay,setEndDay]=useState("");const[endMonth,setEndMonth]=useState("");const[endYear,setEndYear]=useState("");const[monthlySalary,setMonthlySalary]=useState("");const[result,setResult]=useState<any>(null);const calculate=()=>{const sd=parseInt(startDay),sm=parseInt(startMonth),sy=parseInt(startYear);const ed=parseInt(endDay),em=parseInt(endMonth),ey=parseInt(endYear);const salary=parseFloat(monthlySalary);if(isNaN(sd)||isNaN(sm)||isNaN(sy)||isNaN(ed)||isNaN(em)||isNaN(ey)||isNaN(salary))return;const startDate=new Date(sy,sm-1,sd);const endDate=new Date(ey,em-1,ed);const diffTime=Math.abs(endDate.getTime()-startDate.getTime());const leaveDays=Math.ceil(diffTime/(1000*60*60*24));const dailySalary=salary/30;const totalPay=leaveDays*dailySalary;const weeks=Math.floor(leaveDays/7);const remainingDays=leaveDays%7;setResult({leaveDays,weeks,remainingDays,dailySalary:dailySalary.toFixed(2),totalPay:totalPay.toFixed(2),monthlySalary:salary.toFixed(2)})};return(<div className="w-full max-w-5xl mx-auto space-y-6"><Link href="/"><Button variant="outline"className="mb-4 hover:scale-105 transition-transform"><Home className="w-4 h-4 mr-2"/>Ana Sayfaya Dön</Button></Link><Card className="border-2 border-blue-100/50 shadow-xl"><CardContent className="pt-8 pb-8 px-6 sm:px-8"><div className="mb-8 text-center"><div className="inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-gradient-to-br from-blue-500 to-cyan-600 shadow-lg mb-4"><Banknote className="h-8 w-8 text-white"/></div><h2 className="text-3xl font-bold bg-gradient-to-r from-blue-600 to-cyan-600 bg-clip-text text-transparent mb-2">Yıllık İzin Ücreti Hesaplayıcı</h2><p className="text-slate-600">Kullanılmayan izin günlerinizin ücretini hesaplayın</p></div><div className="space-y-4 mb-6"><div><label className="text-sm font-semibold text-slate-700 mb-2 block flex items-center gap-2"><Calendar className="w-4 h-4"/>İzin Başlangıç Tarihi</label><div className="grid grid-cols-3 gap-3"><Input type="number"value={startDay}onChange={(e)=>setStartDay(e.target.value)}placeholder="Gün"className="h-12"/><Input type="number"value={startMonth}onChange={(e)=>setStartMonth(e.target.value)}placeholder="Ay"className="h-12"/><Input type="number"value={startYear}onChange={(e)=>setStartYear(e.target.value)}placeholder="Yıl"className="h-12"/></div></div><div><label className="text-sm font-semibold text-slate-700 mb-2 block flex items-center gap-2"><Calendar className="w-4 h-4"/>İzin Bitiş Tarihi</label><div className="grid grid-cols-3 gap-3"><Input type="number"value={endDay}onChange={(e)=>setEndDay(e.target.value)}placeholder="Gün"className="h-12"/><Input type="number"value={endMonth}onChange={(e)=>setEndMonth(e.target.value)}placeholder="Ay"className="h-12"/><Input type="number"value={endYear}onChange={(e)=>setEndYear(e.target.value)}placeholder="Yıl"className="h-12"/></div></div><div><label className="text-sm font-semibold text-slate-700 mb-2 block flex items-center gap-2"><DollarSign className="w-4 h-4"/>Brüt Aylık Maaş (₺)</label><Input type="number"value={monthlySalary}onChange={(e)=>setMonthlySalary(e.target.value)}className="h-12"placeholder="örn: 20000"/></div></div><Button onClick={calculate}className="w-full h-14 bg-gradient-to-r from-blue-500 to-cyan-600 hover:shadow-lg transition-all"><Plane className="mr-2"/>Ücreti Hesapla</Button>{result&&(<div className="mt-8 space-y-4 animate-in fade-in slide-in-from-bottom-4"><div className="p-8 rounded-2xl bg-gradient-to-br from-blue-50 to-cyan-50 border-2 border-blue-200 text-center"><p className="text-sm font-semibold text-slate-600 mb-2">Toplam İzin Ücreti</p><p className="text-6xl font-bold text-blue-600 mb-2">₺{parseFloat(result.totalPay).toLocaleString('tr-TR')}</p><p className="text-xl text-cyan-600">{result.leaveDays} gün izin</p></div><div className="grid grid-cols-2 md:grid-cols-4 gap-4"><div className="p-4 rounded-xl bg-white border-2 border-blue-100 text-center"><p className="text-sm text-slate-600">İzin Günü</p><p className="text-3xl font-bold text-blue-600">{result.leaveDays}</p></div><div className="p-4 rounded-xl bg-white border-2 border-cyan-100 text-center"><p className="text-sm text-slate-600">Hafta</p><p className="text-3xl font-bold text-cyan-600">{result.weeks}h {result.remainingDays}g</p></div><div className="p-4 rounded-xl bg-white border-2 border-blue-100 text-center"><p className="text-sm text-slate-600">Günlük Ücret</p><p className="text-2xl font-bold text-blue-600">₺{parseFloat(result.dailySalary).toLocaleString('tr-TR')}</p></div><div className="p-4 rounded-xl bg-white border-2 border-cyan-100 text-center"><p className="text-sm text-slate-600">Aylık Maaş</p><p className="text-2xl font-bold text-cyan-600">₺{parseFloat(result.monthlySalary).toLocaleString('tr-TR')}</p></div></div><div className="p-6 rounded-xl bg-gradient-to-br from-blue-50 to-indigo-50 border-2 border-blue-200"><h4 className="font-bold text-slate-800 mb-3 flex items-center gap-2"><Banknote className="w-5 h-5 text-blue-600"/>Hesaplama Detayı</h4><div className="space-y-2 text-sm"><div className="flex justify-between"><span className="text-slate-600">Brüt Aylık Maaş:</span><span className="font-bold text-blue-600">₺{parseFloat(result.monthlySalary).toLocaleString('tr-TR')}</span></div><div className="flex justify-between"><span className="text-slate-600">Günlük Ücret (Brüt Maaş ÷ 30):</span><span className="font-bold text-cyan-600">₺{parseFloat(result.dailySalary).toLocaleString('tr-TR')}</span></div><div className="flex justify-between"><span className="text-slate-600">İzin Gün Sayısı:</span><span className="font-bold text-blue-600">{result.leaveDays} gün</span></div><div className="h-px bg-blue-200 my-2"/><div className="flex justify-between"><span className="font-semibold text-slate-800">Toplam İzin Ücreti:</span><span className="font-bold text-blue-600 text-lg">₺{parseFloat(result.totalPay).toLocaleString('tr-TR')}</span></div></div></div><div className="relative h-4 bg-gradient-to-r from-blue-200 to-cyan-200 rounded-full overflow-hidden"><div className="absolute top-0 left-0 h-full bg-gradient-to-r from-blue-500 to-cyan-600 rounded-full"style={{width:`${Math.min((result.leaveDays/30)*100,100)}%`}}/></div><p className="text-center text-sm text-slate-600 mt-2">İzin süresi: {result.leaveDays} gün ({result.weeks} hafta {result.remainingDays} gün)</p></div>)}</CardContent></Card><div className="grid md:grid-cols-2 gap-6"><Card className="border-2 border-blue-100/50"><CardContent className="pt-6"><div className="flex items-start gap-3 mb-3"><BookOpen className="w-5 h-5 text-blue-600 mt-1"/><div><h3 className="font-bold text-slate-800 mb-2">Nasıl Kullanılır?</h3><p className="text-sm text-slate-600">İzin başlangıç ve bitiş tarihlerini gün/ay/yıl formatında girin. Brüt aylık maaşınızı yazın. Sistem otomatik olarak izin ücretini hesaplar.</p></div></div></CardContent></Card><Card className="border-2 border-cyan-100/50"><CardContent className="pt-6"><div className="flex items-start gap-3 mb-3"><Lightbulb className="w-5 h-5 text-cyan-600 mt-1"/><div><h3 className="font-bold text-slate-800 mb-2">Örnek Kullanım</h3><p className="text-sm text-slate-600 mb-2"><strong>Örnek:</strong> 1/7/2024 - 14/7/2024, ₺25.000 maaş</p><p className="text-sm text-slate-600">Sonuç: <strong>14 gün × ₺833.33 = ₺11.666,62</strong></p></div></div></CardContent></Card><Card className="border-2 border-blue-100/50"><CardContent className="pt-6"><div className="flex items-start gap-3 mb-3"><AlertCircle className="w-5 h-5 text-blue-600 mt-1"/><div><h3 className="font-bold text-slate-800 mb-2">Önemli Bilgiler</h3><p className="text-sm text-slate-600">Formül: İzin Günü × (Brüt Maaş ÷ 30). Kullanılmayan izinler işten ayrılırken ödenir. Vergi kesintisi yapılmaz.</p></div></div></CardContent></Card><Card className="border-2 border-cyan-100/50"><CardContent className="pt-6"><div className="flex items-start gap-3 mb-3"><Info className="w-5 h-5 text-cyan-600 mt-1"/><div><h3 className="font-bold text-slate-800 mb-2">İlginç Bilgiler</h3><p className="text-sm text-slate-600">Türkiye'de yıllık izin hakkı 14-26 gün arasındadır. İşçilerin %40'ı yıllık izinlerini tam kullanamaz.</p></div></div></CardContent></Card></div></div>)};export{AnnualLeavePayCalculator};