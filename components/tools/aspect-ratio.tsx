"use client"
import{useState,useEffect}from"react";import Link from"next/link";import{Card,CardContent}from"@/components/ui/card";import{Input}from"@/components/ui/input";import{Button}from"@/components/ui/button";import{Home,Monitor,Maximize2,BookOpen,Lightbulb,AlertCircle,Info}from"lucide-react";import{motion}from"framer-motion";const aspectRatios=[{name:"16:9",ratio:[16,9],common:["1920x1080","2560x1440","3840x2160"],desc:"HD/4K standart"},{name:"4:3",ratio:[4,3],common:["1024x768","1600x1200"],desc:"Klasik ekran"},{name:"1:1",ratio:[1,1],common:["1080x1080","2160x2160"],desc:"Instagram post"},{name:"21:9",ratio:[21,9],common:["2560x1080","3440x1440"],desc:"Ultrawide"},{name:"9:16",ratio:[9,16],common:["1080x1920","1440x2560"],desc:"Story/Reels"}];export function AspectRatioCalculator(){const[width,setWidth]=useState("");const[height,setHeight]=useState("");const[selectedRatio,setSelectedRatio]=useState(aspectRatios[0]);const[calculatedRatio,setCalculatedRatio]=useState("");const gcd=(a:number,b:number):number=>b===0?a:gcd(b,a%b);useEffect(()=>{if(width&&height){const w=parseInt(width),h=parseInt(height);if(!isNaN(w)&&!isNaN(h)&&w>0&&h>0){const divisor=gcd(w,h);setCalculatedRatio(`${w/divisor}:${h/divisor}`)}}},[width,height]);const applyRatio=(ratio:any)=>{setSelectedRatio(ratio);if(width){const w=parseInt(width);if(!isNaN(w)){const newHeight=Math.round((w*ratio.ratio[1])/ratio.ratio[0]);setHeight(newHeight.toString())}}};const applyResolution=(resolution:string)=>{const[w,h]=resolution.split('x').map(Number);setWidth(w.toString());setHeight(h.toString())};const previewScale=selectedRatio.ratio[0]/selectedRatio.ratio[1];return(<div className="w-full max-w-5xl mx-auto space-y-6 animate-in fade-in duration-500"><Link href="/"><Button variant="outline"className="group flex items-center gap-2 hover:gap-3 transition-all hover:border-purple-300"><Home className="h-4 w-4 text-purple-600 group-hover:-translate-x-1 transition-transform"/>Ana Sayfaya DÃ¶n</Button></Link><Card className="border-2 border-purple-100 shadow-xl"><CardContent className="pt-8 px-6 pb-8"><div className="mb-8 text-center"><div className="inline-flex w-16 h-16 rounded-2xl bg-gradient-to-br from-purple-500 to-pink-600 shadow-lg mb-4 items-center justify-center"><Monitor className="h-8 w-8 text-white"/></div><h1 className="text-3xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent mb-2">Aspect Ratio HesaplayÄ±cÄ±</h1><p className="text-slate-600">En-boy oranÄ±nÄ± hesaplayÄ±n ve Ã¶nizleyin</p></div><div className="grid md:grid-cols-2 gap-4 mb-6"><div><label className="text-sm font-semibold text-slate-700 mb-2 block flex items-center gap-2"><Maximize2 className="h-4 w-4"/>GeniÅŸlik (px)</label><Input type="number"value={width}onChange={(e)=>setWidth(e.target.value)}className="h-14 border-2"placeholder="1920"/></div><div><label className="text-sm font-semibold text-slate-700 mb-2 block">YÃ¼kseklik (px)</label><Input type="number"value={height}onChange={(e)=>setHeight(e.target.value)}className="h-14 border-2"placeholder="1080"/></div></div>{calculatedRatio&&(<div className="mb-6 p-6 rounded-xl bg-gradient-to-r from-purple-50 to-pink-50 border-2 border-purple-200 animate-in fade-in"><p className="text-sm font-semibold text-purple-700 mb-2">Hesaplanan Oran</p><p className="text-4xl font-bold text-purple-900">{calculatedRatio}</p></div>)}<div className="mb-6"><label className="text-sm font-semibold text-slate-700 mb-3 block">HazÄ±r Oranlar</label><div className="grid grid-cols-2 md:grid-cols-5 gap-3">{aspectRatios.map((ratio)=><Button key={ratio.name}variant={selectedRatio.name===ratio.name?"default":"outline"}onClick={()=>applyRatio(ratio)}className={selectedRatio.name===ratio.name?"bg-gradient-to-r from-purple-500 to-pink-600":""}><div className="text-center"><div className="font-bold">{ratio.name}</div><div className="text-xs opacity-70">{ratio.desc}</div></div></Button>)}</div></div><div className="mb-6"><label className="text-sm font-semibold text-slate-700 mb-3 block">YaygÄ±n Ã‡Ã¶zÃ¼nÃ¼rlÃ¼kler</label><div className="grid grid-cols-2 md:grid-cols-3 gap-2">{selectedRatio.common.map((res)=><Button key={res}variant="outline"size="sm"onClick={()=>applyResolution(res)}className="h-12">{res}</Button>)}</div></div>{width&&height&&(<motion.div initial={{opacity:0,y:20}}animate={{opacity:1,y:0}}className="p-8 rounded-2xl bg-gradient-to-br from-purple-50 to-pink-50 border-2 border-purple-200"><h3 className="text-lg font-semibold text-purple-900 mb-6 text-center flex items-center justify-center gap-2"><Monitor className="h-5 w-5"/>GÃ¶rsel Ã–nizleme</h3><div className="flex items-center justify-center min-h-[300px] bg-white rounded-xl p-8 mb-6"><motion.div initial={{scale:0.8}}animate={{scale:1}}transition={{type:"spring"}}className="relative bg-gradient-to-br from-purple-500 to-pink-600 rounded-lg shadow-2xl flex items-center justify-center"style={{width:previewScale>1?"80%":`${previewScale*80}%`,paddingBottom:previewScale>1?`${(1/previewScale)*80}%`:"80%",maxWidth:"600px"}}><div className="absolute inset-0 flex flex-col items-center justify-center text-white p-6"><p className="text-5xl font-bold mb-2">{selectedRatio.name}</p><p className="text-xl opacity-90">{width}Ã—{height}</p></div></motion.div></div><div className="grid grid-cols-3 gap-4">{[{label:"GeniÅŸlik",value:`${width}px`,color:"from-purple-50 to-purple-100 border-purple-200"},{label:"YÃ¼kseklik",value:`${height}px`,color:"from-pink-50 to-pink-100 border-pink-200"},{label:"Oran",value:selectedRatio.name,color:"from-purple-50 to-pink-100 border-purple-300"}].map((item,i)=><div key={i}className={`p-4 rounded-xl bg-gradient-to-br border-2 text-center ${item.color}`}><p className="text-sm text-slate-600 mb-1">{item.label}</p><p className="text-2xl font-bold text-purple-700">{item.value}</p></div>)}</div></motion.div>)}</CardContent></Card><div className="grid md:grid-cols-2 gap-6"><Card className="border-2 border-purple-100"><CardContent className="pt-6"><div className="flex items-start gap-3"><div className="p-2 bg-purple-100 rounded-lg"><BookOpen className="h-5 w-5 text-purple-600"/></div><div><h3 className="font-bold mb-2">NasÄ±l KullanÄ±lÄ±r?</h3><ol className="text-sm text-slate-600 space-y-1 list-decimal list-inside"><li>GeniÅŸlik ve yÃ¼kseklik girin</li><li>HazÄ±r oranlardan birini seÃ§in</li><li>GÃ¶rsel Ã¶nizlemeyi inceleyin</li></ol></div></div></CardContent></Card><Card className="border-2 border-pink-100"><CardContent className="pt-6"><div className="flex items-start gap-3"><div className="p-2 bg-pink-100 rounded-lg"><Lightbulb className="h-5 w-5 text-pink-600"/></div><div><h3 className="font-bold mb-2">Ã–rnek KullanÄ±m</h3><ul className="text-sm text-slate-600 space-y-1"><li><strong>YouTube:</strong> 1920x1080 â†’ 16:9</li><li><strong>Instagram:</strong> 1080x1080 â†’ 1:1</li><li><strong>Story:</strong> 1080x1920 â†’ 9:16</li></ul></div></div></CardContent></Card><Card className="border-2 border-purple-100"><CardContent className="pt-6"><div className="flex items-start gap-3"><div className="p-2 bg-purple-100 rounded-lg"><AlertCircle className="h-5 w-5 text-purple-600"/></div><div><h3 className="font-bold mb-2">Ã–nemli Bilgiler</h3><ul className="text-sm text-slate-600 space-y-1"><li>Her platform farklÄ± oran kullanÄ±r</li><li>16:9 evrensel standarttÄ±r</li><li>Mobil iÃ§in 9:16 tercih edilir</li></ul></div></div></CardContent></Card><Card className="border-2 border-pink-100"><CardContent className="pt-6"><div className="flex items-start gap-3"><div className="p-2 bg-pink-100 rounded-lg"><Info className="h-5 w-5 text-pink-600"/></div><div><h3 className="font-bold mb-2">Ä°lginÃ§ Bilgiler</h3><ul className="text-sm text-slate-600 space-y-1"><li>ğŸ“º 4:3 eski TV standartÄ±ydÄ±</li><li>ğŸ¬ 21:9 sinema formatÄ±dÄ±r</li><li>ğŸ“± 9:16 mobil Ã§aÄŸÄ±n formatÄ±</li></ul></div></div></CardContent></Card></div></div>)}