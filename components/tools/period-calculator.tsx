"use client"
import{useState}from"react";import Link from"next/link";import{Card,CardContent}from"@/components/ui/card";import{Input}from"@/components/ui/input";import{Button}from"@/components/ui/button";import{Home,Calendar,Heart,BookOpen,Lightbulb,AlertCircle,Info}from"lucide-react";export function PeriodCalculator(){const[day,setDay]=useState("");const[month,setMonth]=useState("");const[year,setYear]=useState("");const[cycleLength,setCycleLength]=useState("28");const[result,setResult]=useState<any>(null);const calc=()=>{const d=parseInt(day),m=parseInt(month),y=parseInt(year),cycle=parseInt(cycleLength);if(d&&m&&y&&cycle){const lastPeriod=new Date(y,m-1,d);const nextPeriod=new Date(lastPeriod);nextPeriod.setDate(nextPeriod.getDate()+cycle);const ovulation=new Date(lastPeriod);ovulation.setDate(ovulation.getDate()+(cycle-14));const fertileStart=new Date(ovulation);fertileStart.setDate(fertileStart.getDate()-5);const fertileEnd=new Date(ovulation);fertileEnd.setDate(fertileEnd.getDate()+1);const today=new Date();const daysUntil=Math.ceil((nextPeriod.getTime()-today.getTime())/(1000*60*60*24));const phase=daysUntil>14?"FolikÃ¼ler":"Luteal";setResult({next:nextPeriod.toLocaleDateString('tr-TR'),ovulation:ovulation.toLocaleDateString('tr-TR'),fertileStart:fertileStart.toLocaleDateString('tr-TR'),fertileEnd:fertileEnd.toLocaleDateString('tr-TR'),daysUntil:daysUntil>0?daysUntil:0,phase})}};return(<div className="w-full max-w-5xl mx-auto space-y-6 animate-in fade-in duration-500"><Link href="/"><Button variant="outline"className="group flex items-center gap-2 hover:gap-3 transition-all hover:border-pink-300"><Home className="h-4 w-4 text-pink-600 group-hover:-translate-x-1 transition-transform"/>Ana Sayfaya DÃ¶n</Button></Link><Card className="border-2 border-pink-100 shadow-xl"><CardContent className="pt-8 px-6 pb-8"><div className="mb-8 text-center"><div className="inline-flex w-16 h-16 rounded-2xl bg-gradient-to-br from-pink-500 to-rose-600 shadow-lg mb-4 items-center justify-center"><Calendar className="h-8 w-8 text-white"/></div><h1 className="text-3xl font-bold bg-gradient-to-r from-pink-600 to-rose-600 bg-clip-text text-transparent mb-2">Adet HesaplayÄ±cÄ±</h1><p className="text-slate-600">Sonraki dÃ¶ngÃ¼nÃ¼zÃ¼ tahmin edin</p></div><div className="grid md:grid-cols-4 gap-4 mb-6"><div><label className="text-sm font-semibold text-slate-700 mb-2 block">Son Adet Ä°lk GÃ¼nÃ¼</label><div className="grid grid-cols-3 gap-2"><Input type="number"value={day}onChange={(e)=>setDay(e.target.value)}className="h-14 border-2"placeholder="GÃ¼n"min="1"max="31"/><Input type="number"value={month}onChange={(e)=>setMonth(e.target.value)}className="h-14 border-2"placeholder="Ay"min="1"max="12"/><Input type="number"value={year}onChange={(e)=>setYear(e.target.value)}className="h-14 border-2"placeholder="YÄ±l"min="2020"/></div></div><div className="md:col-span-3"><label className="text-sm font-semibold text-slate-700 mb-2 block">DÃ¶ngÃ¼ UzunluÄŸu (gÃ¼n)</label><Input type="number"value={cycleLength}onChange={(e)=>setCycleLength(e.target.value)}className="h-14 border-2"placeholder="28"min="21"max="35"/></div></div><Button onClick={calc}className="w-full h-14 bg-gradient-to-r from-pink-500 to-rose-600 hover:from-pink-600 hover:to-rose-700"><Heart className="mr-2"/>Hesapla</Button>{result&&(<div className="mt-8 space-y-4 animate-in fade-in slide-in-from-bottom-4 duration-700"><div className="p-8 rounded-2xl bg-gradient-to-br from-pink-400 to-rose-500 text-white text-center"><p className="text-lg font-semibold mb-2">Sonraki Adet Tarihi</p><p className="text-5xl font-bold mb-3">{result.next}</p><p className="text-xl">{result.daysUntil} gÃ¼n sonra</p></div><div className="grid sm:grid-cols-3 gap-4"><div className="p-6 rounded-xl bg-gradient-to-br from-purple-50 to-purple-100 border-2 border-purple-200"><h4 className="font-bold text-purple-900 mb-2">ğŸ¥š Yumurtlama</h4><p className="text-2xl font-bold text-purple-700">{result.ovulation}</p></div><div className="p-6 rounded-xl bg-gradient-to-br from-green-50 to-green-100 border-2 border-green-200"><h4 className="font-bold text-green-900 mb-2">ğŸ’š Verimli DÃ¶nem</h4><p className="text-sm font-bold text-green-700">{result.fertileStart} - {result.fertileEnd}</p></div><div className="p-6 rounded-xl bg-gradient-to-br from-blue-50 to-blue-100 border-2 border-blue-200"><h4 className="font-bold text-blue-900 mb-2">ğŸ“Š Faz</h4><p className="text-2xl font-bold text-blue-700">{result.phase}</p></div></div><div className="p-6 rounded-xl bg-gradient-to-r from-pink-50 to-rose-50 border-2 border-pink-200"><h4 className="font-bold text-pink-900 mb-3">ğŸ“… DÃ¶ngÃ¼ FazlarÄ±</h4><div className="space-y-2">{[{phase:"MenstrÃ¼asyon",days:"1-5 gÃ¼n",desc:"Kanama dÃ¶nemi"},{phase:"FolikÃ¼ler Faz",days:"1-13 gÃ¼n",desc:"Yumurta geliÅŸimi"},{phase:"Yumurtlama",days:"14. gÃ¼n",desc:"Yumurta salÄ±nÄ±mÄ±"},{phase:"Luteal Faz",days:"15-28 gÃ¼n",desc:"HazÄ±rlÄ±k dÃ¶nemi"}].map((item,i)=><div key={i}className="flex items-center justify-between p-3 bg-white rounded-lg"><div><span className="font-semibold text-slate-700 block">{item.phase}</span><span className="text-xs text-slate-500">{item.desc}</span></div><span className="text-xs text-pink-600 font-semibold">{item.days}</span></div>)}</div></div></div>)}</CardContent></Card><div className="grid md:grid-cols-2 gap-6"><Card className="border-2 border-pink-100"><CardContent className="pt-6"><div className="flex items-start gap-3"><div className="p-2 bg-pink-100 rounded-lg"><BookOpen className="h-5 w-5 text-pink-600"/></div><div><h3 className="font-bold mb-2">NasÄ±l KullanÄ±lÄ±r?</h3><ol className="text-sm text-slate-600 space-y-1 list-decimal list-inside"><li>Son adet ilk gÃ¼nÃ¼nÃ¼ girin</li><li>DÃ¶ngÃ¼ uzunluÄŸunuzu belirtin (ortalama 28)</li><li>Hesapla butonuna tÄ±klayÄ±n</li></ol></div></div></CardContent></Card><Card className="border-2 border-rose-100"><CardContent className="pt-6"><div className="flex items-start gap-3"><div className="p-2 bg-rose-100 rounded-lg"><Lightbulb className="h-5 w-5 text-rose-600"/></div><div><h3 className="font-bold mb-2">Ã–rnek</h3><ul className="text-sm text-slate-600 space-y-1"><li><strong>Son adet:</strong> 1 Ocak 2024, 28 gÃ¼nlÃ¼k â†’ Sonraki: 29 Ocak</li></ul></div></div></CardContent></Card><Card className="border-2 border-pink-100"><CardContent className="pt-6"><div className="flex items-start gap-3"><div className="p-2 bg-pink-100 rounded-lg"><AlertCircle className="h-5 w-5 text-pink-600"/></div><div><h3 className="font-bold mb-2">Ã–nemli</h3><ul className="text-sm text-slate-600 space-y-1"><li>Tahminidir, kesin deÄŸildir</li><li>DÃ¶ngÃ¼ler deÄŸiÅŸkenlik gÃ¶sterebilir</li><li>DÃ¼zensizlik varsa doktora danÄ±ÅŸÄ±n</li></ul></div></div></CardContent></Card><Card className="border-2 border-rose-100"><CardContent className="pt-6"><div className="flex items-start gap-3"><div className="p-2 bg-rose-100 rounded-lg"><Info className="h-5 w-5 text-rose-600"/></div><div><h3 className="font-bold mb-2">Ä°lginÃ§</h3><ul className="text-sm text-slate-600 space-y-1"><li>ğŸ¥š Yumurtlama 24-36 saat sÃ¼rer</li><li>ğŸ’š Verimli dÃ¶nem 6 gÃ¼ndÃ¼r</li></ul></div></div></CardContent></Card></div></div>)}
